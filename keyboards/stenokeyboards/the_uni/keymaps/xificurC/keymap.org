#+title: Keymap

#+name: GEN
#+BEGIN_SRC bb :var LAYER="" NAME="" :results output
;; (require '[babashka.deps :as deps])
;; (deps/add-deps '{:deps {com.rpl/specter {:mvn/version "1.1.4"}}})
;; (require '[com.rpl.specter :as $])
;; (println (sort (keys (ns-publics (find-ns 'com.rpl.specter)))))
;; (println (com.rpl.specter/select $/ALL [1 2 3]))
(defn longest [coll] (transduce cat (completing (fn [ac nx] (if (> (count nx) (count ac)) nx ac))) "" coll))
(defn key->str [?key len]
  (let [key (cond (= "" ?key) "XXXXXXX" (= "N/A" ?key) "" :else ?key)]
    [(str "/*" (apply str (repeat len "-")) "*/")
     (str "  " key (apply str (repeat (- len (count key)) " ")) (if (= "N/A" ?key) "  " ", "))
     (str "/*" (apply str (repeat len "-")) "*/")]))
(def LONGEST 15)
(when-not (= "" LAYER) (println (str "[" NAME "] = LAYOUT(")))
(doseq [row LAYER]
  (doseq [print-row (reduce (fn [ac nx] (mapv #(str % " " %2) ac nx)) ["" "" ""] (for [k row] (key->str k LONGEST)))]
    (println print-row)))
(when-not (= "" LAYER) (println "),"))
#+END_SRC

#+RESULTS: GEN

#+name: LAYER_BASE
| LGUI_T(KC_Q) | LALT_T(KC_W) | LCTL_T(KC_F) | LSFT_T(KC_P) | KC_B     | KC_J     | LSFT_T(KC_L) | LCTL_T(KC_U) | LALT_T(KC_Y) | LGUI_T(KC_QUOT) |     |
| KC_Z         | KC_X         | KC_C         | KC_D         | KC_V     | KC_K     | KC_H         | KC_COMM      | KC_DOT       | KC_SLSH         |     |
| N/A          | N/A          | MO(MEDR)     | MO(NAVR)     | MO(MOUR) | MO(NSSL) | MO(NSL)      | MO(FUNL)     | N/A          | N/A             | N/A |

#+CALL: GEN(LAYER=LAYER_BASE, NAME="BASE")

#+RESULTS:
#+begin_example
[BASE] = LAYOUT(
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   LGUI_T(KC_Q)   ,    LALT_T(KC_W)   ,    LCTL_T(KC_F)   ,    LSFT_T(KC_P)   ,    KC_B           ,    KC_J           ,    LSFT_T(KC_L)   ,    LCTL_T(KC_U)   ,    LALT_T(KC_Y)   ,    LGUI_T(KC_QUOT),    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   KC_Z           ,    KC_X           ,    KC_C           ,    KC_D           ,    KC_V           ,    KC_K           ,    KC_H           ,    KC_COMM        ,    KC_DOT         ,    KC_SLSH        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
                                           MO(MEDR)       ,    MO(NAVR)       ,    MO(MOUR)       ,    MO(NSSL)       ,    MO(NSL)        ,    MO(FUNL)       ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
),
#+end_example

#+name: LAYER_NAVR
| KC_LGUI | KC_LALT | KC_LCTL | KC_LSFT |   |   | KC_LEFT | KC_DOWN | KC_UP   | KC_RGHT | KC_CAPS |
|         |         |         |         |   |   | KC_HOME | KC_PGDN | KC_PGUP | KC_END  | PLOVER  |
| N/A     | N/A     |         |         |   |   |         |         | N/A     | N/A     | N/A     |

#+CALL: GEN(LAYER=LAYER_NAVR, NAME="NAVR")

#+RESULTS:
#+begin_example
[NAVR] = LAYOUT(
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   KC_LGUI        ,    KC_LALT        ,    KC_LCTL        ,    KC_LSFT        ,    XXXXXXX        ,    XXXXXXX        ,    KC_LEFT        ,    KC_DOWN        ,    KC_UP          ,    KC_RGHT        ,    KC_CAPS        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    KC_HOME        ,    KC_PGDN        ,    KC_PGUP        ,    KC_END         ,    PLOVER         ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
                                           XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
),
#+end_example

#+name: LAYER_MOUR
| KC_LGUI | KC_LALT | KC_LCTL | KC_LSFT |   |         | KC_7 | KC_8 | KC_9 |     |     |
|         |         |         |         |   | KC_MINS | KC_1 | KC_2 | KC_3 |     |     |
| N/A     | N/A     |         |         |   | KC_DOT  | KC_0 |      | N/A  | N/A | N/A |

#+CALL: GEN(LAYER=LAYER_MOUR, NAME="MOUR")

#+RESULTS:
#+begin_example
[MOUR] = LAYOUT(
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   KC_LGUI        ,    KC_LALT        ,    KC_LCTL        ,    KC_LSFT        ,    XXXXXXX        ,    XXXXXXX        ,    KC_7           ,    KC_8           ,    KC_9           ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    KC_MINS        ,    KC_1           ,    KC_2           ,    KC_3           ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
                                           XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    KC_DOT         ,    KC_0           ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
),
#+end_example

#+name: LAYER_MEDR
| KC_LGUI | KC_LALT | KC_LCTL | KC_LSFT |   |   |   |   |     |     |     |
|         |         |         |         |   |   |   |   |     |     |     |
| N/A     | N/A     |         |         |   |   |   |   | N/A | N/A | N/A |

#+CALL: GEN(LAYER=LAYER_MEDR, NAME="MEDR")

#+RESULTS:
#+begin_example
[MEDR] = LAYOUT(
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   KC_LGUI        ,    KC_LALT        ,    KC_LCTL        ,    KC_LSFT        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
                                           XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
),
#+end_example

#+name: LAYER_FUNL
| KC_F12 | KC_F7 | KC_F8 | KC_F9   |   |   | KC_LSFT | KC_LCTL | KC_LALT | KC_LGUI |     |
| KC_F10 | KC_F1 | KC_F2 | KC_F3   |   |   |         |         |         |         |     |
| N/A    | N/A   |       | KC_PSCR |   |   |         |         | N/A     | N/A     | N/A |

#+CALL: GEN(LAYER=LAYER_FUNL, NAME="FUNL")

#+RESULTS:
#+begin_example
[FUNL] = LAYOUT(
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   KC_F12         ,    KC_F7          ,    KC_F8          ,    KC_F9          ,    XXXXXXX        ,    XXXXXXX        ,    KC_LSFT        ,    KC_LCTL        ,    KC_LALT        ,    KC_LGUI        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   KC_F10         ,    KC_F1          ,    KC_F2          ,    KC_F3          ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
                                           XXXXXXX        ,    KC_PSCR        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
),
#+end_example

#+name: LAYER_NSL
|     | KC_7 | KC_8 | KC_9 |         |   | KC_LSFT | KC_LCTL | KC_LALT | KC_LGUI |     |
|     | KC_1 | KC_2 | KC_3 | KC_MINS |   |         |         |         |         |     |
| N/A | N/A  |      | KC_0 | KC_DOT  |   |         |         | N/A     | N/A     | N/A |

#+CALL: GEN(LAYER=LAYER_NSL, NAME="NSL")

#+RESULTS:
#+begin_example
[NSL] = LAYOUT(
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   XXXXXXX        ,    KC_7           ,    KC_8           ,    KC_9           ,    XXXXXXX        ,    XXXXXXX        ,    KC_LSFT        ,    KC_LCTL        ,    KC_LALT        ,    KC_LGUI        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   XXXXXXX        ,    KC_1           ,    KC_2           ,    KC_3           ,    KC_MINS        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
                                           XXXXXXX        ,    KC_0           ,    KC_DOT         ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
),
#+end_example

#+name: LAYER_NSSL
| I_SCLN | I_PLUS | I_PRNO  | I_PRNC  | EXT_PLV |   | KC_LSFT | KC_LCTL | KC_LALT | KC_LGUI |     |
| I_COLN | I_EQL  | I_BRCO  | I_BRCC  | KC_MINS |   |         |         |         |         |     |
| N/A    | N/A    | KC_UNDS | KC_BSLS | KC_PIPE |   |         |         | N/A     | N/A     | N/A |

#+CALL: GEN(LAYER=LAYER_NSSL, NAME="NSSL")

#+RESULTS:
#+begin_example
[NSSL] = LAYOUT(
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   I_SCLN         ,    I_PLUS         ,    I_PRNO         ,    I_PRNC         ,    EXT_PLV        ,    XXXXXXX        ,    KC_LSFT        ,    KC_LCTL        ,    KC_LALT        ,    KC_LGUI        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   I_COLN         ,    I_EQL          ,    I_BRCO         ,    I_BRCC         ,    KC_MINS        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
                                           KC_UNDS        ,    KC_BSLS        ,    KC_PIPE        ,    XXXXXXX        ,    XXXXXXX        ,    XXXXXXX        ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
),
#+end_example

#+name: LAYER_STNO
| STN_S1 | STN_TL | STN_PL  | STN_HL | STN_ST1 | STN_ST3 | STN_FR | STN_PR | STN_LR | STN_TR | STN_DR |
| STN_S2 | STN_KL | STN_WL  | STN_RL | STN_ST2 | STN_ST3 | STN_RR | STN_BR | STN_GR | STN_SR | STN_ZR |
| N/A    | N/A    | EXT_PLV | STN_A  | STN_O   | STN_E   | STN_U  | STN_N2 | N/A    | N/A    | N/A    |

#+CALL: GEN(LAYER=LAYER_STNO, NAME="STNO")

#+RESULTS:
#+begin_example
[STNO] = LAYOUT(
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   STN_S1         ,    STN_TL         ,    STN_PL         ,    STN_HL         ,    STN_ST1        ,    STN_ST3        ,    STN_FR         ,    STN_PR         ,    STN_LR         ,    STN_TR         ,    STN_DR         ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
   STN_S2         ,    STN_KL         ,    STN_WL         ,    STN_RL         ,    STN_ST2        ,    STN_ST3        ,    STN_RR         ,    STN_BR         ,    STN_GR         ,    STN_SR         ,    STN_ZR         ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
                                           EXT_PLV        ,    STN_A          ,    STN_O          ,    STN_E          ,    STN_U          ,    STN_N2         ,
 /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/ /*---------------*/
),
#+end_example
